<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Leaderboard</title>
 <style>
:root{--bg:#173463;--card:#0b2964;--accent:#06b6d4;--muted:#9aa4b2;--success:#10b981;--danger:#ef4444}
    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{
      margin:0; 
      font-family:Inter,system-ui,Segoe UI,Roboto,"Noto Sans Thai",sans-serif;
      background:linear-gradient(180deg,#071026 0%, #071b2b 100%); 
      color:#e6eef6;
      min-height:100vh; 
      display:flex; 
      justify-content:center; 
      padding:20px;
      padding-top:80px; 
    }
    .site-header {
      width:100%;
      background:#0b1220;
      position:fixed;
      top:0;
      left:0;
      z-index:1000;
      border-bottom:1px solid rgba(255,255,255,0.08);
      box-shadow: 0 2px 8px rgba(0,0,0,0.35);
    }
    .site-header .inner {
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 20px;
      max-width:1100px;
      margin:auto;
    }
    .site-header .brand { font-size:20px; font-weight:bold; color:var(--accent); }
    .site-header nav ul { display:flex; list-style:none; gap:16px; margin:0; padding:0; }
    .site-header nav a { color:#ccc; padding:6px 10px; border-radius:8px; text-decoration:none; }
    .site-header nav a:hover { background:rgba(255,255,255,0.1); color:#fff; }
    .site-header nav a.active {
      color:#fff;
      border-bottom:2px solid var(--accent);
      padding-bottom:4px;
    }
    .app{
      width:100%; 
      max-width:720px; 
      background:rgba(255,255,255,0.03);
      border-radius:12px; 
      padding:18px; 
      box-shadow:0 8px 30px rgba(2,6,23,0.6);
      margin:auto;
      overflow-y:auto;
      max-height:calc(100vh - 120px); 
    }
    h1{margin-top:0;text-align:center}
    .lead-list{margin-top:16px}
    .lead-item{
      display:flex; justify-content:space-between;
      padding:10px; border-bottom:1px dashed rgba(255,255,255,0.06);
    }
    .btn{
      display:inline-block; padding:10px 14px; border-radius:8px; cursor:pointer; border:0;
      background:#60a5fa; color:#042026; font-weight:600;
      text-decoration:none; text-align:center;
    }
    .muted{color:#94a3b8;font-size:13px}
    .actions{display:flex;gap:8px;justify-content:center;margin-top:16px}
      @media(max-width:768px){
      .container{
        grid-template-columns:1fr;
      }
        nav ul {
          flex-direction: row; 
          justify-content: center;
          gap: 10px; 
          flex-wrap: wrap; 
        }
        nav a {
          font-size: 14px; 
          padding: 8px 12px; 
        }
      }
  </style>
</head>
<body>
   <header class="site-header">
    <div class="inner">
      <div class="brand">BaBa-Quiz</div>
      <nav>
        <ul>
          <li><a href="index.html" class="active">Mainmenu</a></li>
          <li><a href="ranking.html"class="active">Leaderboard</a></li>
          <li><a href="dev.html"class="active">Credits</a></li>
        </ul>
      </nav>
    </div>
    </header>
  <div class="app">
    <h1>üèÜ Leaderboard üèÜ</h1>
    <div id="leaderboard" class="lead-list"></div>
    <div class="actions">
      <a href="index.html" class="btn">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏°</a>
    </div>
  </div>

  <script>
    const LB_KEY = 'quiz_leaderboard_v1';
    const leaderBoardEl = document.getElementById('leaderboard');

    function loadLeaderboard(){
      const raw = localStorage.getItem(LB_KEY);
      if(!raw) return [];
      try{ return JSON.parse(raw) } catch(e){ return [] }
    }

    function renderLeaderboard(){
      const list = loadLeaderboard();
      leaderBoardEl.innerHTML = '';
      if(list.length===0){
        leaderBoardEl.innerHTML = '<div class="muted">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á</div>';
        return;
      }
      list.sort((a,b)=>b.score - a.score)
        .slice(0,20)
        .forEach((it, idx)=>{
          const el = document.createElement('div');
          el.className='lead-item';
          el.innerHTML = `
            <div>
              <strong>#${idx+1} ${escapeHtml(it.name)}</strong>
              <div class="muted small">${new Date(it.date).toLocaleString("th-TH")}</div>
            </div>
            <div style="text-align:right"><strong>${it.score}</strong></div>`;

          if(idx === 0) el.style.color = "gold";
          else if(idx === 1) el.style.color = "silver";
          else if(idx === 2) el.style.color = "orange";

          leaderBoardEl.appendChild(el);
        });
    }

    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, (m)=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]));
    }

    renderLeaderboard();
  </script>
</body>
</html>

